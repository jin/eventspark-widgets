{
  "name": "Live Chat V2",
  "encoded_embed_code": "%0A%3Cdiv%20class%3D%22chat%22%3E%0A%09%3Cdiv%20class%3D%22chat-overlay%22%3EConnecting...%3C/div%3E%0A%09%3Cdiv%20class%3D%22chat-logs%22%3E%0A%09%09%3Cdiv%20class%3D%22logs%22%3E%0A%09%09%3C/div%3E%0A%09%09%3Ctextarea%20placeholder%3D%22Send%20a%20message%22%20class%3D%22message-box%22%20maxlength%3D%22300%22%20disabled%3E%3C/textarea%3E%0A%09%3C/div%3E%0A%3C/div%3E%0A%3Cscript%3E%0A%24%28function%28%29%20%7B%0A%20%20%20%20initChat%28%29%3B%0A%7D%29%3B%0AString.prototype.hashCode%20%3D%20function%28%29%20%7B%0A%20%20%20%20for%28var%20ret%20%3D%200%2C%20i%20%3D%200%2C%20len%20%3D%20this.length%3B%20i%20%3C%20len%3B%20i++%29%20%7B%0A%20%20%20%20%20%20ret%20%3D%20%2831%20*%20ret%20+%20this.charCodeAt%28i%29%29%20%3C%3C%200%3B%0A%20%20%7D%0A%20%20return%20ret%3B%0A%7D%3B%0Afunction%20initChat%28%29%20%7B%0A%20%20%20%20var%20channel%20%3D%20%28location.origin+location.pathname%29.hashCode%28%29%3B%0A%20%20%20%20var%20user%20%3D%20typeof%20username%20%21%3D%3D%20%22undefined%22%3F%20username%3A%20%22%22%3B%0A%20%20%20%20var%20socket%20%3D%20socketCluster.connect%28%7B%0A%20%20%20%20%20%20hostname%3A%20%22griddit.io%22%2C%0A%20%20%20%20%20%20secure%3A%20true%2C%0A%20%20%20%20%20%20port%3A%208000%0A%20%20%7D%29%3B%0A%0A%20%20%20%20socket.on%28%27error%27%2C%20function%20%28err%29%20%7B%0A%20%20%20%20%20%20throw%20%27Socket%20error%20-%20%27%20+%20err%3B%20%0A%20%20%7D%29%3B%0A%0A%20%20%20%20function%20connected%28%29%20%7B%0A%20%20%20%20%20%20%24%28%27.chat-overlay%27%29.hide%28%29%3B%0A%20%20%20%20%20%20%24%28%27.message-box%27%29.prop%28%22disabled%22%2Cfalse%29%3B%0A%20%20%20%20%20%20info%28%22Welcome%20to%20the%20chat%21%22%29%3B%0A%20%20%20%20%20%20var%20chatChannel%20%3D%20socket.subscribe%28channel%29%3B%0A%20%20%20%20%20%20chatChannel.watch%28function%20%28data%29%20%7B%20%20%0A%20%20%20%20%20%20%20%20message%20%3D%20data%3B%0A%20%20%20%20%20%20%20%20if%20%28message.type%20%3D%3D%20%22info%22%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20info%28message.msg%29%3B%0A%20%20%20%20%20%20%7D%20else%20%7B%20%0A%20%20%20%20%20%20%20%20%20%20var%20t%20%3D%20new%20Date%28message.time%29%3B%0A%20%20%20%20%20%20%20%20%20%20renderMessage%28message.msg%2C%20t.timeNow%28%29%2Cmessage.color%2Cmessage.username%2Cmessage.type%29%3B%0A%20%20%20%20%20%20%7D%0A%20%20%7D%29%3B%0A%20%20%7D%0A%0A%20%20socket.on%28%27authenticate%27%2C%20function%28%29%20%7B%0A%20%20%20%20%20%20connected%28%29%3B%0A%20%20%7D%29%3B%0A%0A%20%20socket.on%28%27connect%27%2C%20function%20%28status%29%20%7B%0A%20%20%20%20%20%20if%20%28%21status.isAuthenticated%29%20%7B%0A%20%20%20%20%20%20%20%20socket.emit%28%27auth%27%2C%20%7Busername%3Auser%7D%2C%20function%28err%29%20%7B%0A%20%20%20%20%20%20%20%20%7D%29%3B%0A%20%20%20%20%7D%20%0A%7D%29%3B%0A%0A%0A%0A%20%20%24%28%22.message-box%22%29.on%28%22keypress%22%2C%20function%28event%29%20%7B%0A%20%20%20%20%20%20var%20key%20%3D%20event.keyCode%3B%0A%20%20%20%20%20%20var%20message%20%3D%20%24.trim%28%24%28%22.message-box%22%29.val%28%29%29%3B%0A%20%20%20%20%20%20if%20%28key%20%3D%3D%2013%20%26%26%20%21event.shiftKey%20%26%26%20message%20%21%3D%3D%20%22%22%29%20%7B%0A%20%20%20%20%20%20%20%20var%20d%20%3D%20new%20Date%28%29%3B%0A%20%20%20%20%20%20%20%20socket.emit%28%27chat%27%2C%20%7B%20%0A%20%20%20%20%20%20%20%20%20%20channel%3A%20channel%2C%0A%20%20%20%20%20%20%20%20%20%20msg%3Amessage%0A%20%20%20%20%20%20%7D%29%3B%0A%20%20%20%20%20%20%20%20%24%28%22.message-box%22%29.val%28%22%22%29%3B%0A%20%20%20%20%20%20%20%20event.preventDefault%28%29%3B%0A%20%20%20%20%20%20%20%20return%20false%3B%0A%20%20%20%20%7D%0A%20%20%20%20else%20%7B%0A%20%20%20%20%20%20%20%20return%20true%3B%0A%20%20%20%20%7D%3B%0A%7D%29%3B%0A%0A%0A%20%20Date.prototype.timeNow%20%3D%20function%20%28%29%20%7B%0A%20%20%20%20%20%20return%20%28%28this.getHours%28%29%20%3C%2010%29%3F%220%22%3A%22%22%29%20+%20this.getHours%28%29%20+%22%3A%22+%20%28%28this.getMinutes%28%29%20%3C%2010%29%3F%220%22%3A%22%22%29%20+%20this.getMinutes%28%29%20+%22%3A%22+%20%28%28this.getSeconds%28%29%20%3C%2010%29%3F%220%22%3A%22%22%29%20+%20this.getSeconds%28%29%3B%0A%20%20%7D%3B%0A%0A%20%20function%20htmlEncode%28html%29%20%7B%0A%20%20%20%20%20%20return%20document.createElement%28%22a%22%29.appendChild%28%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20document.createTextNode%28html%29%29.parentNode.innerHTML.replace%28/%22/g%2C%22%5C%26quot%5C%3B%22%29%3B%0A%20%20%7D%3B%0A%0A%20%20function%20linkify%28text%29%7B%0A%20%20%20%20%20%20if%20%28text%29%20%7B%0A%20%20%20%20%20%20%20%20text%20%3D%20text.replace%28%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20/%28%28https%3F%5C%3A%5C/%5C/%29%7C%28www%5C.%29%29%28%5CS+%29%28%5Cw%7B2%2C4%7D%29%28%3A%5B0-9%5D+%29%3F%28%5C/%7C%5C/%28%5B%5Cw%23%21%3A.%3F+%3D%26%25@%21%5C-%5C/%5D%29%29%3F/gi%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20function%28url%29%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20var%20full_url%20%3D%20url%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20%28%21full_url.match%28%22%5Ehttps%3F%3A%5C/%5C/%22%29%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20full_url%20%3D%20%22http%3A//%22%20+%20full_url%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20return%20%22%3Ca%20target%3D%5C%22_blank%5C%22%20href%3D%5C%22%22%20+%20full_url%20+%20%22%5C%22%3E%22%20+%20url%20+%20%22%3C/a%3E%22%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%29%3B%0A%20%20%20%20%7D%0A%20%20%20%20return%20text%3B%0A%7D%0Afunction%20insertMessage%28%20message%20%29%20%7B%0A%20%20var%20elem%20%3D%20%24%28%22.logs%22%29%3B%0A%20%20var%20atBottom%20%3D%20%28elem%5B0%5D.scrollHeight%20-%20elem.scrollTop%28%29%20%3C%3D%20elem.outerHeight%28%29%20+%2020%20%29%3B%0A%20%20%24%28%22.logs%22%29.append%28message%29%3B%20%0A%20%20if%20%28atBottom%29%20%7B%0A%20%20%20%20elem.scrollTop%28elem%5B0%5D.scrollHeight%29%3B%0A%7D%0A%7D%3B%0A%0Afunction%20info%28msg%29%20%7B%0A%20%20insertMessage%28%22%3Cdiv%20class%3D%5C%22info%5C%22%3E%22+msg+%22%3C/div%3E%22%29%3B%0A%7D%3B%0A%0Afunction%20renderMessage%28msg%2Ctime%2Ccolor%2Cusername%2Ctype%29%20%7B%0A%20%20try%20%7B%0A%20%20%20%20var%20m%20%3D%20msg%3B%0A%20%20%20%20var%20t%20%3D%20time%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20var%20isRegistered%20%3D%20false%3B//%20%28m%5B1%5D%5B0%5D%20%3D%3D%20%22*%22%29%3B%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20%28type%3D%3D%22message%22%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20insertMessage%28%22%3Cdiv%20class%3D%5C%22messages%5C%22%3E%3Cspan%20class%3D%5C%22time%5C%22%3E%22+t+%22%3C/span%3E%3Cspan%20class%3D%5C%22author%20chat-%22+htmlEncode%28color.substring%280%2C4%29%29+%22%5C%22%3E%22+%28isRegistered%3F%22%3Ci%20class%3D%5C%22material-icons%20tiny%5C%22%20style%3D%5C%22vertical-align%3Abaseline%3Bfont-size%3A10px%3B%5C%22%3Edone%3C/i%3E%22+htmlEncode%28username.substring%281%2C21%29%29%3AhtmlEncode%28username.substring%280%2C20%29%29%29+%22%3C/span%3E%3A%20%22+linkify%28htmlEncode%28m.substring%280%2C300%29%29%29+%22%3C/div%3E%22%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%20else%20if%20%28type%3D%3D%22info%22%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20info%28m%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%7D%20catch%20%28e%29%7B%0A%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%7D%3B%0A%20%20%7D%0A%0A%20%20%3C/script%3E",
  "image_url": "http://res.cloudinary.com/eventspark3216/image/upload/v1446467761/eventspark/widget-chat-medium.png",
  "image_thumb_url": "http://res.cloudinary.com/eventspark3216/image/upload/v1446467277/widget-chat-small_fawhkx.png",
  "variables": {
  }
}
